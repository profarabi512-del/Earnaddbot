<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ржЗржиржХрж╛ржо ржХрж░рзБржи ржЕрзНржпрж╛ржб ржжрзЗржЦрзЗ ЁЯТ░</title>

<script src="//libtl.com/sdk.js" data-zone="9459352" data-sdk="show_9459352"></script>
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
body {font-family: 'Noto Sans Bengali', sans-serif; background:#0d0d0d; color:#fff; text-align:center;}
header {background:linear-gradient(135deg,#00c853,#009624);padding:15px;font-size:20px;font-weight:bold;}
.nav {display:flex;justify-content:space-around;background:#1a1a1a;padding:10px 0;}
.nav button {background:none;border:none;color:#fff;font-size:15px;cursor:pointer;}
.nav button.active {color:#00e676;font-weight:bold;}
.section {display:none;padding:20px;}
.card {background:#1c1c1c;border-radius:12px;margin:15px auto;padding:15px;max-width:400px;}
button.action {background:linear-gradient(145deg,#00c853,#009624);color:#fff;border:none;padding:12px;border-radius:10px;font-size:16px;cursor:pointer;width:90%;margin-top:10px;}
#status {margin-top:15px;padding:10px;border-radius:10px;display:none;}
.success{background:rgba(0,255,0,0.1);color:#00c853;}
.error{background:rgba(255,0,0,0.1);color:#ff5252;}
.info{background:rgba(0,0,255,0.1);color:#448aff;}
#referralLink{background:#222;padding:10px;border-radius:8px;border:1px dashed #666;cursor:pointer;margin-top:10px;word-break:break-all;}
#adminPanel {display:none;}
</style>
</head>

<body>
<header>ЁЯТ░ ржЗржиржХрж╛ржо ржХрж░рзБржи ржЕрзНржпрж╛ржб ржжрзЗржЦрзЗ ЁЯТ░</header>

<div class="nav">
    <button id="navHome" class="active">ЁЯПа рж╣рзЛржо</button>
    <button id="navTask">ЁЯОп ржЯрж╛рж╕рзНржХ</button>
    <button id="navRefer">ЁЯСе рж░рзЗржлрж╛рж░</button>
    <button id="navWithdraw">ЁЯТ╕ ржЙржЗржержбрзНрж░</button>
    <button id="navAdmin">тЪЩя╕П ржЕрзНржпрж╛ржбржорж┐ржи</button>
</div>

<!-- рж╣рзЛржо -->
<section id="home" class="section" style="display:block;">
    <div class="card">
        <h2>ржмрж░рзНрждржорж╛ржи ржмрзНржпрж╛рж▓рзЗржирзНрж╕</h2>
        <h1 id="balance">рз│ 0.00</h1>
        <p>ржжрзЗржЦрж╛ ржмрж┐ржЬрзНржЮрж╛ржкржи: <span id="adCount">0</span></p>
    </div>
</section>

<!-- ржЯрж╛рж╕рзНржХ -->
<section id="task" class="section">
    <div class="card">
        <h2>ЁЯОм ржЕрзНржпрж╛ржб ржжрзЗржЦрзБржи ржУ ржЗржиржХрж╛ржо ржХрж░рзБржи</h2>
        <p>ржкрзНрж░рждрж┐ ржЕрзНржпрж╛ржбрзЗ ржкрж╛ржмрзЗржи <b>рз│0.50</b></p>
        <button id="watchAdBtn" class="action">ржЕрзНржпрж╛ржб ржжрзЗржЦрзБржи</button>
    </div>
</section>

<!-- рж░рзЗржлрж╛рж░ -->
<section id="refer" class="section">
    <div class="card">
        <h2>ЁЯСе рж░рзЗржлрж╛рж░ ржХрж░рзЗ ржЗржиржХрж╛ржо ржХрж░рзБржи</h2>
        <p>ржкрзНрж░рждрж┐ рж░рзЗржлрж╛рж░рзЗ ржкрж╛ржмрзЗржи <b>рз│1.00</b></p>
        <div id="referralLink" title="ржХржкрж┐ ржХрж░рждрзЗ ржЯрзНржпрж╛ржк ржХрж░рзБржи"></div>
    </div>
</section>

<!-- ржЙржЗржержбрзНрж░ -->
<section id="withdraw" class="section">
    <div class="card">
        <h2>ЁЯТ╕ ржмрж┐ржХрж╛рж╢рзЗ ржЯрж╛ржХрж╛ рждрзБрж▓рзБржи</h2>
        <input type="text" id="bkash" placeholder="ржмрж┐ржХрж╛рж╢ ржирж╛ржорзНржмрж╛рж░ рж▓рж┐ржЦрзБржи" style="width:90%;padding:10px;border-radius:8px;border:none;text-align:center;">
        <button id="withdrawBtn" class="action" disabled>Withdraw (Min рз│50)</button>
    </div>
</section>

<!-- ЁЯЫая╕П ржЕрзНржпрж╛ржбржорж┐ржи ржкрзНржпрж╛ржирзЗрж▓ -->
<section id="adminPanel" class="section">
    <div class="card">
        <h2>тЪЩя╕П ржЕрзНржпрж╛ржбржорж┐ржи ржкрзНржпрж╛ржирзЗрж▓</h2>
        <p><b>Welcome, Admin!</b></p>
        <p>ржПржЦрж╛ржирзЗ ржЖржкржирж┐ ржжрзЗржЦрждрзЗ ржкрж╛рж░ржмрзЗржи:</p>
        <ul style="text-align:left;max-width:350px;margin:auto;">
            <li>ЁЯСд ржЗржЙржЬрж╛рж░ ржЗржиржлрзЛ</li>
            <li>ЁЯТ╕ Withdraw рж░рж┐ржХрзЛрзЯрзЗрж╕рзНржЯ</li>
            <li>ЁЯОп ржорзЛржЯ Ad ржжрзЗржЦрж╛</li>
            <li>ЁЯСе рж░рзЗржлрж╛рж░ рж╕ржВржЦрзНржпрж╛</li>
        </ul>
        <p>тЪая╕П ржПржЗ ржнрж╛рж░рзНрж╕ржирзЗ ржПржЧрзБрж▓рзЛ <b>ржбрзЗржорзЛ</b> рж╣рж┐рж╕рж╛ржмрзЗ ржжрзЗржЦрж╛ржирзЛ рж╣рзЯрзЗржЫрзЗред</p>
        <p>ЁЯФЧ ржпржжрж┐ ржЪрж╛ржи ржЖржорж┐ ржмрж╛рж╕рзНрждржм рж╕рж╛рж░рзНржнрж╛рж░ рж╕рж╣ (Firebase/MySQL ржжрж┐рзЯрзЗ) ржПржЧрзБрж▓рзЛ ржХрж╛ржЬ ржХрж░рж┐рзЯрзЗ ржжрж┐ржЗ, ржмрж▓рж▓рзЗржЗ ржХрж░рзЗ ржжрзЗржмрзЛ!</p>
    </div>
</section>

<div id="status"></div>

<script>
const ADMIN_ID = 7886407854; // ЁЯФ╣ рждрзЛржорж╛рж░ Telegram ID
const BOT_USERNAME = "Addincom9e_bot";
const WEBAPP_NAME = "EarningApp";

let balance = 0;
let adCount = 0;
const AD_REWARD = 0.50;
const WITHDRAW_LIMIT = 50.00;

// Telegram init
if (window.Telegram && window.Telegram.WebApp) {
    const tg = window.Telegram.WebApp;
    const user = tg.initDataUnsafe.user;

    // рж░рзЗржлрж╛рж░рзЗрж▓ рж▓рж┐ржВржХ
    if (user && user.id) {
        const link = `https://t.me/${BOT_USERNAME}/${WEBAPP_NAME}?startapp=ref${user.id}`;
        document.getElementById("referralLink").textContent = link;
        document.getElementById("referralLink").onclick = () => {
            navigator.clipboard.writeText(link);
            showStatus("тЬЕ рж░рзЗржлрж╛рж░рзЗрж▓ рж▓рж┐ржВржХ ржХржкрж┐ рж╣рзЯрзЗржЫрзЗ!", "success");
        };
    }

    // ржпржжрж┐ рж░рзЗржлрж╛рж░ рж▓рж┐ржВржХ ржжрж┐рзЯрзЗ ржЬрзЯрзЗржи ржХрж░рзЗ
    if (tg.initDataUnsafe.start_param) {
        const refId = tg.initDataUnsafe.start_param.replace("ref", "");
        showStatus(`ЁЯОЙ ржЖржкржирж┐ ${refId} ржжрзНржмрж╛рж░рж╛ рж░рзЗржлрж╛рж░ рж╣рзЯрзЗржЫрзЗржи!`, "info");
    }

    // ржЕрзНржпрж╛ржб ржжрзЗржЦрж╛
    document.getElementById("watchAdBtn").onclick = () => {
        showStatus("ржЕрзНржпрж╛ржб рж▓рзЛржб рж╣ржЪрзНржЫрзЗ...", "info");
        show_9459352()
            .then(() => {
                adCount++;
                balance += AD_REWARD;
                updateUI();
                showStatus(`+рз│${AD_REWARD.toFixed(2)} ржпрзЛржЧ рж╣рзЯрзЗржЫрзЗ тЬЕ`, "success");
            })
            .catch(() => showStatus("ржЕрзНржпрж╛ржб ржмрзНржпрж░рзНрже рж╣рзЯрзЗржЫрзЗ тЭМ", "error"));
    };

    // ржЙржЗржержбрзНрж░
    document.getElementById("withdrawBtn").onclick = () => {
        const bkash = document.getElementById("bkash").value.trim();
        if (bkash.length !== 11 || !bkash.startsWith("01")) {
            return showStatus("тЪая╕П рж╕ржарж┐ржХ ржмрж┐ржХрж╛рж╢ ржирж╛ржорзНржмрж╛рж░ ржжрж┐ржи", "error");
        }
        tg.sendData(`Withdraw Request\nUser ID: ${user.id}\nAmount: рз│${balance.toFixed(2)}\nBkash: ${bkash}`);
        showStatus("тЬЕ Withdraw Request ржкрж╛ржарж╛ржирзЛ рж╣рзЯрзЗржЫрзЗ!", "success");
        balance = 0;
        adCount = 0;
        updateUI();
    };

    // ржирзНржпрж╛ржнрж┐ржЧрзЗрж╢ржи
    const sections = ["home", "task", "refer", "withdraw", "adminPanel"];
    const buttons = ["navHome", "navTask", "navRefer", "navWithdraw", "navAdmin"];

    buttons.forEach((btn, i) => {
        document.getElementById(btn).onclick = () => {
            buttons.forEach(id => document.getElementById(id).classList.remove("active"));
            sections.forEach(id => document.getElementById(id).style.display = "none");
            document.getElementById(btn).classList.add("active");
            if (sections[i] === "adminPanel" && user.id !== ADMIN_ID) {
                showStatus("тЭМ рж╢рзБржзрзБржорж╛рждрзНрж░ ржЕрзНржпрж╛ржбржорж┐ржирзЗрж░ ржЬржирзНржп!", "error");
                return;
            }
            document.getElementById(sections[i]).style.display = "block";
        };
    });

    function updateUI() {
        document.getElementById("balance").textContent = `рз│ ${balance.toFixed(2)}`;
        document.getElementById("adCount").textContent = adCount;
        document.getElementById("withdrawBtn").disabled = balance < WITHDRAW_LIMIT;
    }

    function showStatus(msg, type) {
        const box = document.getElementById("status");
        box.textContent = msg;
        box.className = type;
        box.style.display = "block";
        setTimeout(() => box.style.display = "none", 4000);
    }

    tg.ready();
} else {
    document.body.innerHTML = "<h2 style='color:red;margin-top:50px;'>тЪая╕П Telegram ржЕрзНржпрж╛ржкрзЗрж░ ржнрж┐рждрж░рзЗ ржЦрзБрж▓рзБржи!</h2>";
}
</script>
</body>
</html>


